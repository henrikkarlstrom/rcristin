<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example of rcristin use • rcristin</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Example of rcristin use">
<meta property="og:description" content="The Cristin database of research and science communication results is a great source of data concerning the activities of academic institutions in Norway. This vignette gives you an example of how to use the rcristin package to extract data about the academic publishing of an institution for a common type of analysis: co-publication trends.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rcristin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/use_case.html">Example of rcristin use</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/henrikkarlstrom/rcristin/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="use_case_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Example of rcristin use</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/henrikkarlstrom/rcristin/blob/master/vignettes/use_case.Rmd"><code>vignettes/use_case.Rmd</code></a></small>
      <div class="hidden name"><code>use_case.Rmd</code></div>

    </div>

    
    
<p>rcristin provides two functions to facilitate easy querying of the Cristin database through <a href="https://api.cristin.no/">its REST API</a>. This vignette shows you how to:</p>
<ul>
<li><p>Use <code><a href="../reference/get_cristin_results.html">get_cristin_results()</a></code> to get the registered results of a research institution, unit or individual researcher.</p></li>
<li><p>Use <code><a href="../reference/get_contributor_info.html">get_contributor_info()</a></code> to extract further information about the institutional affiliations of the contributors to the results you extracted in the last step.</p></li>
</ul>
<p>With these two functions and some basic data handling you can answer many common questions about the reported results of an institution, a particular research project or an academic journal, to name a few of the options available.</p>
<p>First, we load rcristin. We also load in the dplyr package from the tidyverse for easy data exploration:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/henrikkarlstrom/rcristin">rcristin</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></code></pre></div>
<div id="get_cristin_results" class="section level2">
<h2 class="hasAnchor">
<a href="#get_cristin_results" class="anchor"></a><code>get_cristin_results()</code>
</h2>
<p>The most important function of rcristin is <code><a href="../reference/get_cristin_results.html">get_cristin_results()</a></code>: it allows you to specify search terms that will (hopefully) return meaningful results from the database.</p>
<p>Basically, you pass the function one or several arguments that correspond to the <a href="https://api.cristin.no/v2/doc/index.html#GETresults">search parameters of the API specification</a>, for example <code>institution</code> or <code>year_reported</code>. For this example, we will fetch all results reported by the <a href="https://en.uit.no/enhet/sesam?p_dimension_id=88182">Centre for Sami Studies</a> (SESAM) at UiT - The Arctic University of Norway since 2015.</p>
<p>First, we need to establish the search parameters. In this case we want results for a particular unit that belongs to an institution, but we don’t want to download all results for the whole institution. We need to specify the <code>unit</code> parameter, as well as <code>published_since</code>.</p>
<p>UiT has the institutional ID of 186 in the Cristin base, and a look at the <a href="https://api.cristin.no/v2/units?institution=186">units list for this institution</a> we can see that SESAM has the unit ID of 186.33.85.0.</p>
<p>The call to <code><a href="../reference/get_cristin_results.html">get_cristin_results()</a></code> looks as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_cristin_results.html">get_cristin_results</a></span><span class="op">(</span>
  unit <span class="op">=</span> <span class="st">"186.33.85.0"</span>,
  published_since <span class="op">=</span> <span class="fl">2015</span>
  <span class="op">)</span></code></pre></div>
<p>This yields a tibble with 362 results, with a lot of metadata contained in the columns:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_results</span>
<span class="co">#&gt; # A tibble: 362 x 56</span>
<span class="co">#&gt;   cristin_result_~ result_url category_code title year_published date_published</span>
<span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt;      &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt;         </span>
<span class="co">#&gt; 1 1214492          https://a~ MEDIAINTERVI~ "GEN~ 2015           2015-01-23T00~</span>
<span class="co">#&gt; 2 1210116          https://a~ ANTHOLOGYACA  "Sav~ 2017           &lt;NA&gt;          </span>
<span class="co">#&gt; 3 1229676          https://a~ READEROPINION "Hva~ 2015           2015-03-03T00~</span>
<span class="co">#&gt; 4 1258447          https://a~ ARTICLE       "Hun~ 2015           &lt;NA&gt;          </span>
<span class="co">#&gt; 5 1261075          https://a~ ARTICLE       "\"S~ 2015           &lt;NA&gt;          </span>
<span class="co">#&gt; # ... with 357 more rows, and 50 more variables: links &lt;list&gt;,</span>
<span class="co">#&gt; #   open_access &lt;chr&gt;, original_language &lt;chr&gt;, issue &lt;chr&gt;,</span>
<span class="co">#&gt; #   number_of_pages &lt;chr&gt;, international_standard_numbers &lt;list&gt;,</span>
<span class="co">#&gt; #   year_printed &lt;chr&gt;, year_reported &lt;chr&gt;, year_online &lt;chr&gt;, volume &lt;chr&gt;,</span>
<span class="co">#&gt; #   organiser &lt;chr&gt;, funding_sources &lt;list&gt;, projects &lt;list&gt;,</span>
<span class="co">#&gt; #   import_sources &lt;list&gt;, category_name_en &lt;chr&gt;, contributors_url &lt;chr&gt;,</span>
<span class="co">#&gt; #   contributors_count &lt;int&gt;, contributors_preview &lt;list&gt;, created_date &lt;chr&gt;,</span>
<span class="co">#&gt; #   last_modified_date &lt;chr&gt;, channel_title &lt;chr&gt;,</span>
<span class="co">#&gt; #   publisher_cristin_publisher_id &lt;chr&gt;, publisher_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   publisher_url &lt;chr&gt;, publisher_place &lt;chr&gt;,</span>
<span class="co">#&gt; #   series_cristin_journal_id &lt;chr&gt;, series_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   series_international_standard_numbers &lt;list&gt;, series_nvi_level &lt;chr&gt;,</span>
<span class="co">#&gt; #   chapters_url &lt;chr&gt;, journal_cristin_journal_id &lt;chr&gt;, journal_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   journal_international_standard_numbers &lt;list&gt;, journal_nvi_level &lt;chr&gt;,</span>
<span class="co">#&gt; #   journal_publisher_cristin_publisher_id &lt;chr&gt;, journal_publisher_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   journal_publisher_place &lt;chr&gt;, journal_publisher_url &lt;chr&gt;,</span>
<span class="co">#&gt; #   pages_from &lt;chr&gt;, pages_to &lt;chr&gt;, pages_count &lt;chr&gt;, event_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   event_location &lt;chr&gt;, event_date_from &lt;chr&gt;, event_date_to &lt;chr&gt;,</span>
<span class="co">#&gt; #   event_arranged_by_name &lt;chr&gt;, part_of_url &lt;chr&gt;,</span>
<span class="co">#&gt; #   classification_scientific_disciplines &lt;list&gt;,</span>
<span class="co">#&gt; #   classification_keywords &lt;list&gt;, summary &lt;chr&gt;</span></code></pre></div>
<p>This can be summarised in various ways. For example, by counting the number of results per year:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_results</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">year_published</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;   year_published     n</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;int&gt;</span>
<span class="co">#&gt; 1 2015              60</span>
<span class="co">#&gt; 2 2016              63</span>
<span class="co">#&gt; 3 2017              67</span>
<span class="co">#&gt; 4 2018              53</span>
<span class="co">#&gt; 5 2019              64</span>
<span class="co">#&gt; # ... with 1 more row</span></code></pre></div>
<p>Looks like a pretty stable output over time. What are the types of results?</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_results</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">category_name_en</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 33 x 2</span>
<span class="co">#&gt;   category_name_en                              n</span>
<span class="co">#&gt;   &lt;chr&gt;                                     &lt;int&gt;</span>
<span class="co">#&gt; 1 Academic lecture                             73</span>
<span class="co">#&gt; 2 Lecture                                      69</span>
<span class="co">#&gt; 3 Academic article                             39</span>
<span class="co">#&gt; 4 Academic chapter/article/Conference paper    39</span>
<span class="co">#&gt; 5 Interview                                    36</span>
<span class="co">#&gt; # ... with 28 more rows</span></code></pre></div>
<p>A lot of communication work in the form of lectures, but also chapters in books and academic articles.</p>
</div>
<div id="get_contributor_info" class="section level2">
<h2 class="hasAnchor">
<a href="#get_contributor_info" class="anchor"></a><code>get_contributor_info()</code>
</h2>
<p>This function takes in a data frame of Cristin results retrieved using <code><a href="../reference/get_cristin_results.html">get_cristin_results()</a></code>, looks up the contributor information for each result in that data frame, and returns a data frame with author and affilation data for each Cristin result ID, which can then be joined to the original data frame using the result ID or analysed as is.</p>
<p>Continuing with our example, we want to see which institutions SESAM publish together with. First, we filter out anything that is not a peer-reviewed publication results from <code>sesam_results</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_pubs</span> <span class="op">&lt;-</span> <span class="va">sesam_results</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span>
    <span class="va">category_code</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
      <span class="st">"CHAPTERACADEMIC"</span>, <span class="st">"ARTICLE"</span>,
      <span class="st">"ANTHOLOGYACA"</span>, <span class="st">"COMMENTARYACA"</span>
      <span class="op">)</span>
    <span class="op">)</span></code></pre></div>
<p>Then, we simply pass the whole tibble to <code><a href="../reference/get_contributor_info.html">get_contributor_info()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_contributors</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_contributor_info.html">get_contributor_info</a></span><span class="op">(</span><span class="va">sesam_pubs</span><span class="op">)</span></code></pre></div>
<p>The 87 publications has a total of 241 affiliated contributors. How many publications have authors from other institutions?</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_copublishers</span> <span class="op">&lt;-</span> <span class="va">sesam_contributors</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span>
    <span class="va">cristin_institution_id</span> <span class="op">!=</span> <span class="fl">186</span>
    <span class="op">)</span></code></pre></div>
<p>There are 30 publications with authors from outside SESAM, but some of these have many co-authors from other institutions.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sesam_copublishers</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">unit_name</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 40 x 2</span>
<span class="co">#&gt;   unit_name                               n</span>
<span class="co">#&gt;   &lt;chr&gt;                               &lt;int&gt;</span>
<span class="co">#&gt; 1 Stockholm University                   10</span>
<span class="co">#&gt; 2 Sámi University of Applied Sciences     9</span>
<span class="co">#&gt; 3 Unknown                                 9</span>
<span class="co">#&gt; 4 NORCE Samfunn                           7</span>
<span class="co">#&gt; 5 Russian Academy of Sciences             7</span>
<span class="co">#&gt; # ... with 35 more rows</span></code></pre></div>
<p>Not all the affiliations have informative unit names (“Sweden”, “New Zealand”, “Administrasjon”), but it is clear that the researchers of SESAM are just as liable to co-publish internationally as with other Norwegian universities.</p>
</div>
<div id="good-practice-in-api-querying" class="section level2">
<h2 class="hasAnchor">
<a href="#good-practice-in-api-querying" class="anchor"></a>Good practice in API querying</h2>
<p>rcristin is great for exploring the contents of the Cristin database. Often, you will find yourself trying out different combinations of queries to get the data you are interested in. This is essential to get a better understanding of what data is available.</p>
<p>However, it also helps to remember that every call to the Cristin API results in a lookup in a database somewhere, and the transfer of data from a server to your computer. While Cristin is not a huge database, and the maintainers have plenty of processing capacity, it is good practice to avoid unnecessarily large or redundant API calls. Try to specify as many parameters as you can in the queries, and if you are trying out multiple queries in succession (for example looping through a long list of parameter combinations) always remember to test it out on a smaller subset of those queries before running the full process. This will help you catch any errors or tune the parameters to reduce the amount of data transferred.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Henrik Karlstrøm.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
